<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
	<title>Joe game</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
	
	<!-- Made with Construct, the game and app creator :: https://www.construct.net -->
	<meta name="generator" content="Scirra Construct">



	<link rel="manifest" href="appmanifest.json">
	<link rel="apple-touch-icon" sizes="128x128" href="icons/icon-128.png">
	<link rel="apple-touch-icon" sizes="256x256" href="icons/icon-256.png">
	<link rel="apple-touch-icon" sizes="512x512" href="icons/icon-512.png">
	<link rel="icon" type="image/png" href="icons/icon-512.png">

	<link rel="stylesheet" href="style.css">



</head> 
 
<body>

	

<script>
if (location.protocol.substr(0, 4) === "file")
{
	alert("Web exports won't work until you upload them. (When running on the file: protocol, browsers block many features from working for security reasons.)");
}
</script>
	
	<noscript>
		<div id="notSupportedWrap">
			<h2 id="notSupportedTitle">This content requires JavaScript</h2>
			<p class="notSupportedMessage">JavaScript appears to be disabled. Please enable it to view this content.</p>
		</div>
	</noscript>
	<script src="scripts/modernjscheck.js"></script>
	<script src="scripts/supportcheck.js"></script>
	<script src="scripts/offlineclient.js" type="module"></script>
	<script src="scripts/main.js" type="module"></script>
	<script src="scripts/register-sw.js" type="module"></script>

</body> 

</html>
diff --git a/wasd-controls.js b/wasd-controls.js
new file mode 100644
index 0000000..e69de29
--- /dev/null
+++ b/wasd-controls.js
@@ -0,0 +1,52 @@
+// Simple WASD + arrow key input manager (no modules).
+// Include this file before your main game loop script.
+// Usage in your game loop:
+//   Input.update();
+//   const dx = Input.x * player.speed * dt;
+//   const dy = Input.y * player.speed * dt;
+//   player.x += dx; player.y += dy;
+
+window.Input = {
+  keys: {},
+  x: 0, // -1 left, +1 right
+  y: 0, // -1 up, +1 down
+  init: function() {
+    window.addEventListener('keydown', (e) => {
+      const k = e.key.toLowerCase();
+      if (['w','a','s','d','arrowup','arrowleft','arrowdown','arrowright'].includes(k)) {
+        this.keys[k] = true;
+        // prevent scrolling when arrows/WASD are used
+        e.preventDefault();
+      }
+    }, { passive: false });
+
+    window.addEventListener('keyup', (e) => {
+      const k = e.key.toLowerCase();
+      if (this.keys[k]) {
+        this.keys[k] = false;
+        e.preventDefault();
+      }
+    }, { passive: false });
+  },
+  update: function() {
+    const left = this.keys['a'] || this.keys['arrowleft'];
+    const right = this.keys['d'] || this.keys['arrowright'];
+    const up = this.keys['w'] || this.keys['arrowup'];
+    const down = this.keys['s'] || this.keys['arrowdown'];
+
+    this.x = (right ? 1 : 0) - (left ? 1 : 0);
+    this.y = (down ? 1 : 0) - (up ? 1 : 0);
+
+    // normalize diagonal so speed is consistent
+    if (this.x !== 0 && this.y !== 0) {
+      const inv = 1 / Math.sqrt(2);
+      this.x *= inv;
+      this.y *= inv;
+    }
+  }
+};
+
+// Initialize immediately so Input is ready
+Input.init();
diff --git a/index.html b/index.html
index 0000000..0000000 100644
--- a/index.html
+++ b/index.html
@@ -1,3 +1,5 @@
+<!-- script added: wasd-controls.js -->
+<script src="wasd-controls.js"></script>
 </body
 window.Input = {
  keys: {},
  x: 0,
  y: 0,
  debug: false, // set true to get console logs
  init: function() {
    const onDown = (e) => {
      const k = e.key.toLowerCase();
      if (['w','a','s','d','arrowup','arrowleft','arrowdown','arrowright'].includes(k)) {
        this.keys[k] = true;
        if (this.debug) console.log('Input: keydown', k, this.keys);
        e.preventDefault();
      }
    };
    const onUp = (e) => {
      const k = e.key.toLowerCase();
      if (this.keys[k]) {
        this.keys[k] = false;
        if (this.debug) console.log('Input: keyup', k, this.keys);
        e.preventDefault();
      }
    };
    window.addEventListener('keydown', onDown, { passive: false });
    window.addEventListener('keyup', onUp, { passive: false });
  },
  update: function() {
    const left = this.keys['a'] || this.keys['arrowleft'];
    const right = this.keys['d'] || this.keys['arrowright'];
    const up = this.keys['w'] || this.keys['arrowup'];
    const down = this.keys['s'] || this.keys['arrowdown'];
    this.x = (right ? 1 : 0) - (left ? 1 : 0);
    this.y = (down ? 1 : 0) - (up ? 1 : 0);
    if (this.x !== 0 && this.y !== 0) {
      const inv = 1 / Math.sqrt(2);
      this.x *= inv; this.y *= inv;
    }
    if (this.debug) console.log('Input.update ->', {x: this.x, y: this.y});
  }
};
Input.init();

